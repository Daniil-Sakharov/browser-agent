# ü§ñ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ AI Browser Agent

## üìÖ –î–µ–¥–ª–∞–π–Ω: 3-4 –¥–Ω—è

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|------------|---------|
| **–Ø–∑—ã–∫** | Go | 1.21+ | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞** | [go-rod/rod](https://github.com/go-rod/rod) | v0.114.0+ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ Chrome DevTools Protocol | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **AI –º–æ–¥–µ–ª—å** | Claude 3.5 Sonnet | API | –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **AI SDK** | anthropic-sdk-go | latest | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude API | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **HTML –ø–∞—Ä—Å–∏–Ω–≥** | [goquery](https://github.com/PuerkitoBio/goquery) | v1.8.1+ | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **CLI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫** | [cobra](https://github.com/spf13/cobra) | v1.8.0+ | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | [viper](https://github.com/spf13/viper) | v1.18.0+ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | [zap](https://github.com/uber-go/zap) | v1.26.0+ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **Graceful shutdown** | custom closer | - | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL | 15+ | –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–¥–∞—á –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | üî∂ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î** | custom migrator | - | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î | üî∂ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **–ö—ç—à** | Redis | 7+ | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ rate limiting (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | üî∂ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **HTTP –∫–ª–∏–µ–Ω—Ç** | [resty](https://github.com/go-resty/resty) | v2.11.0+ | –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| **JSON –æ–±—Ä–∞–±–æ—Ç–∫–∞** | encoding/json | stdlib | –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è** | [validator](https://github.com/go-playground/validator) | v10.16.0+ | –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –∑–∞–¥–∞—á–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Å persistent sessions
- [ ] –í–∏–¥–∏–º—ã–π –±—Ä–∞—É–∑–µ—Ä (–Ω–µ headless)
- [ ] –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π AI-–∞–≥–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ Claude
- [ ] –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –±–µ–∑ —É—á–∞—Å—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –∑–∞–¥–∞—á
- [ ] –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
- [ ] –ú–∏–Ω–∏–º—É–º –æ–¥–∏–Ω –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (sub-agents / error handling / security layer)

### –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚ùå –ó–∞–≥–æ—Ç–æ–≤–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–∞ (hardcoded —Å—Ü–µ–Ω–∞—Ä–∏–∏)
- ‚ùå –ü—Ä–µ–¥–Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
- ‚ùå –•–∞—Ä–¥–∫–æ–¥ —Å—Å—ã–ª–æ–∫ –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚ùå –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–∞–π—Ç–æ–≤

### –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
1. **–£–¥–∞–ª–µ–Ω–∏–µ —Å–ø–∞–º–∞** - –ø—Ä–æ—á–∏—Ç–∞—Ç—å 10 –ø–∏—Å–µ–º –≤ –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç–µ –∏ —É–¥–∞–ª–∏—Ç—å —Å–ø–∞–º
2. **–ó–∞–∫–∞–∑ –µ–¥—ã** - –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ï–¥–∞/Delivery Club
3. **–ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π** - –Ω–∞–π—Ç–∏ 3 –≤–∞–∫–∞–Ω—Å–∏–∏ –Ω–∞ hh.ru –∏ –æ—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è —Å —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –§–∏–ª–æ—Å–æ—Ñ–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ù–∞—à AI-–∞–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns)
- ‚úÖ Dependency Inversion (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ Event-Driven –ø–æ–¥—Ö–æ–¥ (—Ü–∏–∫–ª: Observe ‚Üí Think ‚Üí Act)

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π Clean Architecture:**
- –í–º–µ—Å—Ç–æ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ Domain/UseCase —Å–ª–æ—è—Ö ‚Üí AI –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- –í–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ UseCase –∫–ª–∞—Å—Å–æ–≤ ‚Üí –æ–¥–∏–Ω Agent —Å —Ü–∏–∫–ª–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –í–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (User, Order) ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

---

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              CLI INTERFACE (Cobra)                      ‚îÇ
‚îÇ  - –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≥–µ–Ω—Ç–∞                           ‚îÇ
‚îÇ  - –í–≤–æ–¥ –∑–∞–¥–∞—á–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         APPLICATION LAYER (Orchestrator)                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ  Agent - –≥–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä                  ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  ExecuteTask(task) - –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª:      ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                          ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  while !complete:                        ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    1. context = browser.Extract()        ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    2. decision = brain.Decide()          ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    3. result = action.Execute()          ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    4. if dangerous ‚Üí security.Check()    ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ    5. storage.Save(result)               ‚îÇ ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ             ‚îÇ             ‚îÇ
       ‚ñº             ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  BRAIN   ‚îÇ  ‚îÇ  ACTION  ‚îÇ  ‚îÇ  SECURITY    ‚îÇ
‚îÇ  LAYER   ‚îÇ  ‚îÇ  LAYER   ‚îÇ  ‚îÇ  LAYER       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –°–ª–æ–∏ —Å–∏—Å—Ç–µ–º—ã

#### **1. APPLICATION LAYER (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞–¥–∞—á–∏

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```go
// internal/agent/agent.go
type Agent struct {
    brain    Brain           // AI –ª–æ–≥–∏–∫–∞
    actions  ActionExecutor  // –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    security SecurityGuard   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
    storage  Storage         // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
    logger   *zap.Logger
}

// –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ - —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
func (a *Agent) ExecuteTask(ctx context.Context, task string) (*TaskResult, error)
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞–ø—É—Å–∫ —Ü–∏–∫–ª–∞: Observe ‚Üí Think ‚Üí Act ‚Üí Verify
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É Brain, Action –∏ Security —Å–ª–æ—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–ª–∏ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤

---

#### **2. BRAIN LAYER (AI –ª–æ–≥–∏–∫–∞)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```go
// internal/ai/brain.go
type Brain interface {
    // –ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–π—Å—Ç–≤–∏–∏
    DecideNextAction(ctx context.Context, req DecisionRequest) (*Decision, error)
    
    // –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    AnalyzePage(content string, task string) (*PageAnalysis, error)
    
    // –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞
    IsTaskComplete(task string, history []Action) (bool, string)
}

// internal/ai/client.go
type AIClient struct {
    claude      *anthropic.Client
    tools       *ToolRegistry      // –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è AI
    contextMgr  *ContextManager    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
    config      AIConfig
}

// internal/ai/tools.go
type ToolRegistry struct {
    tools map[string]Tool
}

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è AI (function calling)
type Tool struct {
    Name        string
    Description string
    Parameters  map[string]interface{}
    Handler     func(params map[string]interface{}) error
}

// internal/ai/context.go
type ContextManager struct {
    maxTokens int
}

// –°–∂–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ –ª–∏–º–∏—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤
func (cm *ContextManager) OptimizeContext(page *PageContext, task string) string
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude API
- Function calling –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- AI –ù–ï –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Å—å HTML (100K+ —Ç–æ–∫–µ–Ω–æ–≤)
- AI –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã + –≤–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ–º Accessibility Tree –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

#### **3. ACTION LAYER (–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```go
// internal/browser/controller.go
type BrowserController struct {
    browser   *rod.Browser
    page      *rod.Page
    extractor *ContextExtractor
}

type ActionExecutor interface {
    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    Navigate(url string) error
    
    // –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
    Click(selector string) error
    Type(selector, text string) error
    Select(selector, value string) error
    Scroll(direction string) error
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    GetPageContext() (*PageContext, error)
    Screenshot(path string) error
    
    // –û–∂–∏–¥–∞–Ω–∏–µ
    WaitForElement(selector string, timeout time.Duration) error
    WaitForNavigation() error
}

// internal/browser/extractor.go
type ContextExtractor struct {
    parser *goquery.Document
}

type PageContext struct {
    URL              string
    Title            string
    InteractiveElems []Element  // –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏, –ø–æ–ª—è
    VisibleText      string     // –£—Ä–µ–∑–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    Metadata         map[string]string
}

type Element struct {
    Tag       string   // button, input, a
    Text      string   // –í–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç
    Selector  string   // CSS —Å–µ–ª–µ–∫—Ç–æ—Ä
    Type      string   // –¢–∏–ø (button, text, email)
    Visible   bool     // –í–∏–¥–∏–º–æ—Å—Ç—å
    Clickable bool     // –ú–æ–∂–Ω–æ –ª–∏ –∫–ª–∏–∫–Ω—É—Ç—å
}

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ù–ï –≤–µ—Å—å DOM!)
func (ce *ContextExtractor) ExtractContext(page *rod.Page) (*PageContext, error)

// internal/browser/actions.go
type ActionResult struct {
    Success   bool
    Action    string
    Error     error
    Screenshot string
    Duration  time.Duration
}

// –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å retry –ª–æ–≥–∏–∫–æ–π
type RetryableExecutor struct {
    executor   ActionExecutor
    maxRetries int
    backoff    time.Duration
}
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º —á–µ—Ä–µ–∑ rod
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (–∫–ª–∏–∫, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- Retry –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

#### **4. SECURITY LAYER**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```go
// internal/security/guard.go
type SecurityGuard interface {
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
    CheckAction(action Action) (bool, error)
    
    // –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    RequestConfirmation(action Action) (bool, error)
}

type Guard struct {
    dangerousPatterns []string
    interactive       bool  // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —é–∑–µ—Ä–∞)
}

// –û–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
var DangerousActions = []string{
    "–æ–ø–ª–∞—Ç–∏—Ç—å", "–∫—É–ø–∏—Ç—å", "—É–¥–∞–ª–∏—Ç—å", "–æ—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "pay", "buy", "delete", "send", "purchase",
    "submit", "confirm payment",
}

func (g *Guard) IsDangerous(action Action) bool
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–∞—Å–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

---

#### **5. INFRASTRUCTURE LAYER**

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ë–î, –ª–æ–≥–∏, –∫–æ–Ω—Ñ–∏–≥)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```go
// internal/storage/interface.go
type Storage interface {
    SaveTask(task Task) error
    GetTask(id string) (*Task, error)
    GetHistory(limit int) ([]Task, error)
    SaveAction(taskID string, action Action) error
}

// internal/storage/file.go (MVP)
type FileStorage struct {
    basePath string
}

// internal/storage/postgres.go (Production)
type PostgresStorage struct {
    db *sql.DB
}

// pkg/utils/closer.go
type Closer struct {
    funcs []func() error
}

func (c *Closer) Add(f func() error)
func (c *Closer) Close() error

// pkg/utils/retry.go
func WithRetry(fn func() error, maxRetries int, backoff time.Duration) error
```

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- Graceful shutdown
- Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

---

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### **1. Sub-Agent Architecture**

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á:

```go
// internal/subagents/registry.go
type SubAgent interface {
    CanHandle(task string) bool
    Execute(ctx context.Context, task string) (*Result, error)
}

type AgentRegistry struct {
    agents []SubAgent
}

// internal/subagents/email_agent.go
type EmailAgent struct {
    brain Brain
    actions ActionExecutor
}

func (e *EmailAgent) CanHandle(task string) bool {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–ø–æ—á—Ç–∞", "–ø–∏—Å—å–º–æ", "email"
    return strings.Contains(strings.ToLower(task), "–ø–æ—á—Ç")
}

// internal/subagents/shopping_agent.go
type ShoppingAgent struct {
    brain Brain
    actions ActionExecutor
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á)
- –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å (–ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –∑–Ω–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏)

#### **2. Error Handling & Recovery**

```go
type ErrorHandler struct {
    brain Brain
    logger *zap.Logger
}

// –ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏
func (eh *ErrorHandler) Recover(err error, context *PageContext) (*RecoveryPlan, error) {
    // AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ
    plan := eh.brain.AnalyzeError(err, context)
    return plan, nil
}
```

#### **3. Context Optimization Strategy**

```go
// –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
type ContextOptimizer struct {
    strategies []OptimizationStrategy
}

type OptimizationStrategy interface {
    Optimize(ctx *PageContext) *PageContext
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –£–±—Ä–∞—Ç—å –Ω–µ–≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
type VisibilityFilter struct{}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –∑–∞–¥–∞—á–µ
type RelevanceRanker struct {
    task string
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Accessibility Tree
type A11yTreeExtractor struct{}
```

---

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    ‚îÇ
    ‚îú‚îÄ> "–ó–∞–∫–∞–∂–∏ –±—É—Ä–≥–µ—Ä"
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Agent     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ> 1. browser.GetContext()
       ‚îÇ         ‚îî‚îÄ> PageContext
       ‚îÇ
       ‚îú‚îÄ‚îÄ> 2. brain.Decide(task, context)
       ‚îÇ         ‚îî‚îÄ> Decision { action: "click", selector: ".search" }
       ‚îÇ
       ‚îú‚îÄ‚îÄ> 3. security.Check(action)
       ‚îÇ         ‚îî‚îÄ> true (safe)
       ‚îÇ
       ‚îú‚îÄ‚îÄ> 4. actions.Execute(action)
       ‚îÇ         ‚îî‚îÄ> ActionResult { success: true }
       ‚îÇ
       ‚îú‚îÄ‚îÄ> 5. storage.Save(result)
       ‚îÇ
       ‚îî‚îÄ‚îÄ> –ü–æ–≤—Ç–æ—Ä —Ü–∏–∫–ª–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```

---

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏

```
CLI ‚Üí Agent ‚Üí Brain ‚Üê AI Client
              ‚Üì
            Actions ‚Üê Browser Controller
              ‚Üì
           Security ‚Üê Guard
              ‚Üì
           Storage ‚Üê File/Postgres
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–¥—É—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –Ω–∏–∂–Ω–∏–µ —Å–ª–æ–∏ –Ω–µ –∑–Ω–∞—é—Ç –æ –≤–µ—Ä—Ö–Ω–∏—Ö (Dependency Inversion —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)

---

## üìù –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> üöß **–°–µ–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

---

## üí° –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å 100,000+ —Ç–æ–∫–µ–Ω–æ–≤, –∞ –ª–∏–º–∏—Ç AI ~8K-200K —Ç–æ–∫–µ–Ω–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏, –ø–æ–ª—è –≤–≤–æ–¥–∞)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Accessibility Tree –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ DOM
- –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫ –∑–∞–¥–∞—á–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
**–ü–æ–¥—Ö–æ–¥:**
- AI —Å–∞–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–º–∞–Ω—Ç–∏–∫–∏
- –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–µ—Å–ª–∏ –±—É–¥–µ—Ç –ë–î)

### 3. –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- MVP: –ø—Ä–æ—Å—Ç–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (JSON)
- Production: PostgreSQL —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Storage
- –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ —á–µ—Ä–µ–∑ DI

### 4. Security Layer
**–û–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:**
- –û–ø–ª–∞—Ç–∞/–ø–æ–∫—É–ø–∫–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π/–æ—Ç–∫–ª–∏–∫–æ–≤

---

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
browser-agent/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ agent/
‚îÇ       ‚îî‚îÄ‚îÄ main.go                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ agent/                      # –û—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent.go                # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planner.go              # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ executor.go             # –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ browser/                    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller.go           # Rod –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extractor.go            # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ actions.go              # –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ai/                         # AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.go               # Claude API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools.go                # Function calling definitions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ context.go              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ security/                   # Security layer
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ guard.go                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ storage/                    # –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interface.go            # Storage –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file.go                 # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ postgres.go             # PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ subagents/                  # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ registry.go             # –†–µ–µ—Å—Ç—Ä sub-agents
‚îÇ       ‚îî‚îÄ‚îÄ email_agent.go          # –ü—Ä–∏–º–µ—Ä: –∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ—á—Ç—ã
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îú‚îÄ‚îÄ models/                     # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ task.go
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ action.go
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ context.go
‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ retry.go                # Retry logic
‚îÇ       ‚îî‚îÄ‚îÄ closer.go               # Graceful shutdown
‚îú‚îÄ‚îÄ configs/
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ migrations/                     # –ë–î –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Postgres)
‚îú‚îÄ‚îÄ .env.example                    # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ Makefile
‚îî‚îÄ‚îÄ README.md
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
- [Rod –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://go-rod.github.io/)
- [Claude API Reference](https://docs.anthropic.com/claude/reference)
- [Chrome DevTools Protocol](https://chromedevtools.github.io/devtools-protocol/)

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:
> üöß **–ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- [ ] API –∫–ª—é—á Claude –ø–æ–ª—É—á–µ–Ω
- [ ] Go 1.21+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Git –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞
- [ ] –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- [ ] –í—Å–µ 3 —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ê–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∏–Ω–∏–º—É–º 1 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- [ ] Security layer –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [ ] –ö–æ–¥ –ø–æ–∫—Ä—ã—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- [ ] –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã

---

**–°—Ç–∞—Ç—É—Å:** üü° –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-02
